var plgnotify=function(e){"use strict";function t(e,t,i){var o=new XMLHttpRequest;if(!o)return alert("Não é possível fazer XHR."),!1;if(o.open(e,t,!0),i&&i.header){var n=i.header;for(var d in n)n.hasOwnProperty(d)&&o.setRequestHeader(d,n[d])}o.onreadystatechange=function(e,t,o){this.readyState===XMLHttpRequest.DONE&&(200===this.status?i&&i.success(this.response):i&&i.error(this.response))},o.send()}function i(e,t){return t.h<=e.h}function o(){var e={x:0|M.x,y:0|M.y,w:M.width,h:M.height},t={x:0,y:0,w:M.widthList,h:M.heightList},o={x:0,y:0,w:innerWidth,h:innerHeight},n={x:0,y:0,w:t.w,h:t.h};return!i(o,t)||(n.x=e.x-t.w+.5*e.w|0,n.x<0&&(n.x=e.x+.5*e.w|0),n.y=e.y-t.h+.5*e.h|0,n.y<0&&(n.y=e.y+.5*e.h|0),!i(o,n)||(c(n.x-M.paddingX,n.y-M.paddingY,M.domlist),!1))}function n(e){e.stopPropagation(),M.domlist.classList.remove("hide"),o()?M.domlist.classList.add("hide"):(M.domlist.style.zIndex=M.zIndex+1,W=!0)}function d(e){j=!j,c(M.domplugin.offsetLeft)}function s(e){e.currentTarget===M.dommove&&(X=!0,O=e.offsetX,T=e.offsetY)}function a(e){if(!e.button&&!W)switch(e.currentTarget){case M.dommove:s(e);break;case M.domhide:d(e);break;case M.dombell:n(e)}}function l(e){if(!X)return e.preventDefault();j=!1,e.dataTransfer&&e.dataTransfer.setData("text/html",e.id),h()}function r(e){X&&(f(),e.dataTransfer&&e.dataTransfer.clearData(),b(e.target,e))}function c(e,t,i){i||(i=M.domplugin),void 0!==e&&(e=j?innerWidth-30:(e=e+i.clientWidth>=innerWidth?innerWidth-i.clientWidth-M.paddingX:e)<0?0:e,i.style.left=e+M.posUnit,i===M.domplugin&&(M.x=e)),void 0!==t&&(t=(t=t+i.clientHeight>=innerHeight?innerHeight-i.clientHeight-M.paddingY:t)<0?0:t,i.style.top=t+M.posUnit,i===M.domplugin&&(M.y=t))}function p(e){var t=M.domplugin;f(),c(t.offsetLeft,t.offsetTop)}function m(e){!W||e.target.className.match("plg")&&e.target!==M.dombell||(W=!1,M.domlist.classList.add("hide"))}function u(){Y.toastr}function g(e){u(e),M.domcounter&&(e=parseInt(e.msg)>9&&"9+"||e.msg,M.domcounter.innerHTML=e)}function h(){M.domplugin.style.opacity=.4,X=!0}function f(){X=!1,M.domplugin.style.opacity=1}function b(e,t){var i=t.clientX,o=t.clientY;j||(O&&(i-=O),T&&(o-=T)),M.x=i,M.y=o,c(i,o),e.style.zIndex=M.zIndex}function v(e,t,i,o){e.addEventListener(t,i,o||!1)}function x(){}function w(){E=Y.events||{onload:"DOMContentLoaded",resize:"resize",mousedown:"mousedown",mouseup:"mouseup",click:"click",dragstart:"dragstart",dragend:"dragend",drop:"drop",notification:"refresh",refresh:"refresh"}}function y(){I=Y.token,B=Y.api}function k(e,t,i){var o=document.createDocumentFragment();return(e=document.createElement(e)).innerHTML=t,o.appendChild(e),i||document.body.appendChild(o),o}function L(){var e;if(!(M=Y.layout||{container:"plg",plugin:"plg-notify",counter:"plg-notify-counter",bell:"plg-notify-bell",hide:"plg-notify-hide",list:"plg-notify-list",move:"plg-notify-move",template:"plg-notify-template",dombell:void 0,domcounter:void 0,domlist:void 0,domhide:void 0,dommove:void 0,domtemplate:void 0,x:void 0,y:void 0,width:void 0,height:void 0,widthList:void 0,heightList:void 0,paddingX:void 0,paddingY:void 0,zIndex:100,posUnit:"px"}).domplugin){k("style","[draggable]{-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;user-select:none;-khtml-user-drag:element;-webkit-user-drag:element}.plg *{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0}.draggable{position:absolute;display:inline-block}.draggable > *{display:inline-block}.draggable > i{cursor:move}.dragging{border:1px solid #000}.hide{display:none!important}.hitbox{pointer-events:none}.notificacoes{position:fixed;background:#FFF;width:320px;display:inline-block;border:1px solid #ddd;box-shadow:0 0 10px 4px rgba(0,0,0,0.1);border-radius:10px;overflow-y:auto;overflow-x:hidden;height:420px}.notificacoes li{display:inline-block;width:100%;padding:8px 0 8px 8px;border-bottom:1px solid rgba(235,238,240,0.31);font-size:1rem;max-lines:2;overflow:hidden;height:42px}.notificacoes p,.notificacoes span{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:90%;min-width:30%}.notificacoes li.lida{opacity:.5}.notificacoes li:last-child{border-bottom:0}.notificacoes li:nth-child(odd){background:#fafbfb}.notificacoes li.urgente{background:#d11d1d;color:#fff}.notificacoes li.urgente *{color:#fff}.notificacoes li span{font-size:1.2rem;display:block;font-weight:900;color:#768e99}.circulo{box-sizing:border-box;border-radius:100%;overflow:hidden;width:80px;height:80px}.float-menu{display:block;position:fixed;user-select:none;color:#fff;border-radius:100%;box-shadow:4px 4px 4px rgba(0,0,0,0.3);font-family:sans-serif;width:80px;height:80px}.float-menu .lateral{width:38px;position:absolute;height:40px}.float-menu .lateral a{display:inline-block;width:100%;text-align:center;padding:7px;border-bottom:1px solid #a91b1b;box-sizing:border-box;background:#f32f2f;font-weight:600;font-size:15px;cursor:pointer;border-radius:100% 0 0 0;height:40px}.float-menu a.numeracao{background:#FF9800;cursor:default;position:absolute;right:0;top:0;height:16px;width:16px;padding:5px;margin:auto;border-radius:100%;font-weight:700;z-index:5}.float-menu a.numeracao:hover{background:#ffd200;color:#000}.float-menu .lateral a.esconder svg{margin-top:0}.float-menu .lateral a:hover{background:#a91b1b}.float-menu .lateral a svg{fill:#fff;margin-top:7px}.float-menu .lateral a:last-child{border-bottom:0;border-radius:0 0 0 100%}.sino{width:50px;left:30px;height:80px;cursor:pointer;padding:17px 10px 0 5px;box-sizing:border-box;position:relative;background-color:#232b38}.sino svg{fill:#fff}.sino:hover{background:#3d4d60}");var t=k("div",'<div draggable="true" class="hide float-menu plg-notify"><div class="circulo"><div class="lateral"><a class="mover plg-notify-move"><svg class="hitbox" enable-background="new 0 0 96 96" height="17" version="1.1" viewBox="0 0 96 96" width="17" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M94.828,45.171L80.687,31.029c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657L82.344,44H52V13.657 l7.313,7.313c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L50.828,1.171c-1.562-1.562-4.095-1.562-5.657,0 L31.029,15.314c-1.562,1.562-1.562,4.095,0,5.657s4.095,1.562,5.657,0L44,13.657V44H13.657l7.313-7.313 c1.562-1.562,1.562-4.095,0-5.657s-4.095-1.562-5.657,0L1.171,45.171c-1.562,1.562-1.562,4.095,0,5.657l14.143,14.143 c1.562,1.562,4.095,1.562,5.657,0c1.562-1.562,1.562-4.095,0-5.657L13.657,52H44v30.344l-7.313-7.314 c-1.562-1.562-4.095-1.562-5.657,0c-1.562,1.562-1.562,4.095,0,5.657l14.142,14.142c1.562,1.562,4.095,1.562,5.657,0l14.143-14.142 c1.562-1.562,1.562-4.095,0-5.657c-1.562-1.562-4.095-1.562-5.657,0L52,82.343V52h30.343l-7.313,7.313 c-1.562,1.562-1.562,4.095,0,5.657c1.562,1.562,4.095,1.562,5.657,0l14.142-14.143C96.391,49.267,96.391,46.733,94.828,45.171z"/></svg></a><a class="esconder plg-notify-hide"><svg class="hitbox" height="20" viewBox="0 0 48 48" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h48v48h-48z" fill="none"/><path d="M24 9c-10 0-18.54 6.22-22 15 3.46 8.78 12 15 22 15s18.54-6.22 22-15c-3.46-8.78-11.99-15-22-15zm0 25c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10zm0-16c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6z"/></svg></a></div><div class="sino plg-notify-bell"><svg class="hitbox" height="40" viewBox="0 0 1792 1792" width="35" xmlns="http://www.w3.org/2000/svg"><path d="M912 1696q0-16-16-16-59 0-101.5-42.5t-42.5-101.5q0-16-16-16t-16 16q0 73 51.5 124.5t124.5 51.5q16 0 16-16zm816-288q0 52-38 90t-90 38h-448q0 106-75 181t-181 75-181-75-75-181h-448q-52 0-90-38t-38-90q50-42 91-88t85-119.5 74.5-158.5 50-206 19.5-260q0-152 117-282.5t307-158.5q-8-19-8-39 0-40 28-68t68-28 68 28 28 68q0 20-8 39 190 28 307 158.5t117 282.5q0 139 19.5 260t50 206 74.5 158.5 85 119.5 91 88z"/></svg></div></div><a class="numeracao hitbox"><span class="plg-notify-counter">0</span></a></div><div class="hide notificacoes plg-notify-list hitbox"></div><div class="hide plg-notify-template"><li class="hitbox"></li></div>',!0);t.children[0].classList.add(M.container),document.body.append(t);var i='<li class="urgente"><span>20/06/2017</span><div>Essa mensagem é urgente !</div></li><li class="lida"><span>15/06/2017</span><div>Esta mensagem já foi lida.</div></li><li class="lida urgente"><span>20/06/2017</span><div>Essa mensagem é urgente e já foi lida!</div></li><li><span>12/06/2017</span><div>Uma mensagem muito muito muito muito muito muitolonga mesmo ...</div></li>';t=k("ul",i,!0),document.getElementsByClassName("plg-notify-list")[0].innerHTML=i}M.domcontainer=document.getElementsByClassName(M.container)[0],M.domplugin=document.getElementsByClassName(M.plugin)[0],M.dombell=document.getElementsByClassName(M.bell)[0],M.domcounter=document.getElementsByClassName(M.counter)[0],M.domhide=document.getElementsByClassName(M.hide)[0],M.domlist=document.getElementsByClassName(M.list)[0],M.dommove=document.getElementsByClassName(M.move)[0],M.domtemplate=document.getElementsByClassName(M.template)[0],e=getComputedStyle(M.domplugin),M.paddingX=parseInt(e.boxShadow.split(" ")[4].substr(0,1))+10,M.paddingY=parseInt(e.boxShadow.split(" ")[5].substr(0,1))+10,M.width=parseInt(e.width.substr(0,e.width.indexOf("px"))),M.height=parseInt(e.height.substr(0,e.width.indexOf("px"))),e=getComputedStyle(M.domlist),M.widthList=parseInt(e.width.substr(0,e.width.indexOf("px"))),M.heightList=parseInt(e.height.substr(0,e.width.indexOf("px"))),c(innerWidth-M.width-M.paddingX-30,innerHeight-M.height-M.paddingY-30)}function z(){v(window,E.resize,p),v(document,E.mousedown,m),v(document,E.mouseup,r),v(document,E.dragstart,l),v(document,E.dragend,r),M.dommove&&v(M.dommove,E.mousedown,a),M.domhide&&v(M.domhide,E.mousedown,a),M.dombell&&v(M.dombell,E.mousedown,a)}function H(){socket.hasListeners||(socket.hasListeners=!0,socket.on(E.notification,g))}function q(){var e;if(Y&&Y.ws&&Y.ws.url&&void 0!=window.io&&!N)return e||((e=io(Y.ws.url)).hasListeners=!1,e.on("connect",H)),N={get update(){e.emit(E.notification)},set later(e){B.later(e)},set read(e){B.readed(e)}},D[E.refresh]=N.update,N}function C(){M.domplugin.classList.remove("hide")}var E,B,I,N,M,O,T,X,j,W,Y=e||{},D={};return{get:t.bind(void 0,"get"),post:t.bind(void 0,"post")},v(window,"load",function(){x(),w(),y(),L(),z(),q(),C()},{once:!0,passive:!0}),D};